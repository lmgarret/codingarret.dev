<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bazzite - Post-installation tweaks | CodinGarret.dev</title>
<meta name=keywords content><meta name=description content="A collection of post-installation tweaks for Bazzite 
"><meta name=author content="LM. Garret"><link rel=canonical href=https://codingarret.dev/posts/bazzite/bazzite-post-install/><link crossorigin=anonymous href=/assets/css/stylesheet.8727c1aa07dda8f1d6401868fcbb89e468d62c75146a1ebdb086250ec564a05f.css integrity="sha256-hyfBqgfdqPHWQBho/LuJ5GjWLHUUah69sIYlDsVkoF8=" rel="preload stylesheet" as=style><link rel=icon href=https://codingarret.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://codingarret.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://codingarret.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://codingarret.dev/apple-touch-icon.png><link rel=mask-icon href=https://codingarret.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://codingarret.dev/posts/bazzite/bazzite-post-install/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Bazzite - Post-installation tweaks"><meta property="og:description" content="A collection of post-installation tweaks for Bazzite 
"><meta property="og:type" content="article"><meta property="og:url" content="https://codingarret.dev/posts/bazzite/bazzite-post-install/"><meta property="og:image" content="https://codingarret.dev/images/posts/bazzite-post-install/cover.jpg"><meta property="article:section" content="posts"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://codingarret.dev/images/posts/bazzite-post-install/cover.jpg"><meta name=twitter:title content="Bazzite - Post-installation tweaks"><meta name=twitter:description content="A collection of post-installation tweaks for Bazzite 
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://codingarret.dev/posts/"},{"@type":"ListItem","position":2,"name":"Bazzite - Post-installation tweaks","item":"https://codingarret.dev/posts/bazzite/bazzite-post-install/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Bazzite - Post-installation tweaks","name":"Bazzite - Post-installation tweaks","description":"A collection of post-installation tweaks for Bazzite \n","keywords":[],"articleBody":"Set the correct keyboard for first SDDM start and LUKS decryption prompt One subtle but annoying problem with many Fedora Silverblue installations is that by default the login screen (SDDM) and the disk decryption prompt (LUKS) use the en_US default keyboard layout. This feels like an ever lasting Linux problem that will always need some manual tweaking to be fixed. Here is how we can address that:\nFirst, look for the keymap you want to use with:\nlocalectl list-keymaps| grep CH de_CH-latin1 fr_CH fr_CH-latin1 mac-de_CH mac-fr_CH-latin1I’ll be using fr_CH on this device, but of course any locale should work. Set your keymap with:\nsudo localectl set-keymap fr_CHThe changes should be visible in /etc/vconsole.conf\ncat /etc/vconsole.conf  ✔ # Written by systemd-localed(8) or systemd-firstboot(1), read by systemd-localed # and systemd-vconsole-setup(8). Use localectl(1) to update this file. KEYMAP=fr_CH FONT=eurlatgr XKBLAYOUT=ch XKBMODEL=pc105 XKBVARIANT=fr XKBOPTIONS=terminate:ctrl_alt_bkspand /etc/X11/xorg.conf.d/00-keyboard.conf, amongst probably other places\ncat /etc/X11/xorg.conf.d/00-keyboard.conf # Written by systemd-localed(8), read by systemd-localed and Xorg. It's # probably wise not to edit this file manually. Use localectl(1) to # update this file. Section \"InputClass\" Identifier \"system-keyboard\" MatchIsKeyboard \"on\" Option \"XkbLayout\" \"ch\" Option \"XkbModel\" \"pc105\" Option \"XkbVariant\" \"fr\" Option \"XkbOptions\" \"terminate:ctrl_alt_bksp\" EndSectionThis should allow having the correct keyboard layout for the login screen (SDDM) when booting.\nNow to also set the right keyboard layout for the LUKS decryption prompt, run:\nsudo rpm-ostree initramfs-etc --track=/etc/vconsole.confand reboot. Your changes should now be applied!\nChange the SDDM login screen wallpaper I dislike the default login screen wallpaper, so I wrote an entire post here on how to create your own SDDM custom theme in order to change the wallpaper.\nOur custom theme is here!\n","wordCount":"272","inLanguage":"en","image":"https://codingarret.dev/images/posts/bazzite-post-install/cover.jpg","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"LM. Garret"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://codingarret.dev/posts/bazzite/bazzite-post-install/"},"publisher":{"@type":"Organization","name":"CodinGarret.dev","logo":{"@type":"ImageObject","url":"https://codingarret.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://codingarret.dev/ accesskey=h title="CodinGarret.dev (Alt + H)">CodinGarret.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Bazzite - Post-installation tweaks</h1><div class=post-description>A collection of post-installation tweaks for Bazzite</div><div class=post-meta>LM. Garret</div></header><figure class=entry-cover><img loading=eager src=https://codingarret.dev/images/posts/bazzite-post-install/cover.jpg alt></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#set-the-correct-keyboard-for-first-sddm-start-and-luks-decryption-prompt aria-label="Set the correct keyboard for first SDDM start and LUKS decryption prompt">Set the correct keyboard for first SDDM start and LUKS decryption prompt</a></li><li><a href=#change-the-sddm-login-screen-wallpaper aria-label="Change the SDDM login screen wallpaper">Change the SDDM login screen wallpaper</a></li></ul></div></details></div><div class=post-content><h2 id=set-the-correct-keyboard-for-first-sddm-start-and-luks-decryption-prompt>Set the correct keyboard for first SDDM start and LUKS decryption prompt<a hidden class=anchor aria-hidden=true href=#set-the-correct-keyboard-for-first-sddm-start-and-luks-decryption-prompt>#</a></h2><p>One subtle but annoying problem with many Fedora Silverblue installations is that by default the login screen (SDDM) and the disk decryption prompt (LUKS) use the <code>en_US</code> default keyboard layout. This feels like an ever lasting Linux problem that will always need some manual tweaking to be fixed. Here is how we can address that:</p><p>First, look for the keymap you want to use with:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>localectl list-keymaps<span class=p>|</span> grep CH
</span></span><span class=line><span class=cl>de_CH-latin1
</span></span><span class=line><span class=cl>fr_CH
</span></span><span class=line><span class=cl>fr_CH-latin1
</span></span><span class=line><span class=cl>mac-de_CH
</span></span><span class=line><span class=cl>mac-fr_CH-latin1</span></span></code></pre></div></div><p>I&rsquo;ll be using <code>fr_CH</code> on this device, but of course any locale should work.
Set your keymap with:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo localectl set-keymap fr_CH</span></span></code></pre></div></div><p>The changes should be visible in <code>/etc/vconsole.conf</code></p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /etc/vconsole.conf                                                 ✔
</span></span><span class=line><span class=cl><span class=c1># Written by systemd-localed(8) or systemd-firstboot(1), read by systemd-localed</span>
</span></span><span class=line><span class=cl><span class=c1># and systemd-vconsole-setup(8). Use localectl(1) to update this file.</span>
</span></span><span class=line><span class=cl><span class=nv>KEYMAP</span><span class=o>=</span>fr_CH
</span></span><span class=line><span class=cl><span class=nv>FONT</span><span class=o>=</span>eurlatgr
</span></span><span class=line><span class=cl><span class=nv>XKBLAYOUT</span><span class=o>=</span>ch
</span></span><span class=line><span class=cl><span class=nv>XKBMODEL</span><span class=o>=</span>pc105
</span></span><span class=line><span class=cl><span class=nv>XKBVARIANT</span><span class=o>=</span>fr
</span></span><span class=line><span class=cl><span class=nv>XKBOPTIONS</span><span class=o>=</span>terminate:ctrl_alt_bksp</span></span></code></pre></div></div><p>and <code>/etc/X11/xorg.conf.d/00-keyboard.conf</code>, amongst probably other places</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /etc/X11/xorg.conf.d/00-keyboard.conf
</span></span><span class=line><span class=cl><span class=c1># Written by systemd-localed(8), read by systemd-localed and Xorg. It&#39;s</span>
</span></span><span class=line><span class=cl><span class=c1># probably wise not to edit this file manually. Use localectl(1) to</span>
</span></span><span class=line><span class=cl><span class=c1># update this file.</span>
</span></span><span class=line><span class=cl>Section <span class=s2>&#34;InputClass&#34;</span>
</span></span><span class=line><span class=cl>        Identifier <span class=s2>&#34;system-keyboard&#34;</span>
</span></span><span class=line><span class=cl>        MatchIsKeyboard <span class=s2>&#34;on&#34;</span>
</span></span><span class=line><span class=cl>        Option <span class=s2>&#34;XkbLayout&#34;</span> <span class=s2>&#34;ch&#34;</span>
</span></span><span class=line><span class=cl>        Option <span class=s2>&#34;XkbModel&#34;</span> <span class=s2>&#34;pc105&#34;</span>
</span></span><span class=line><span class=cl>        Option <span class=s2>&#34;XkbVariant&#34;</span> <span class=s2>&#34;fr&#34;</span>
</span></span><span class=line><span class=cl>        Option <span class=s2>&#34;XkbOptions&#34;</span> <span class=s2>&#34;terminate:ctrl_alt_bksp&#34;</span>
</span></span><span class=line><span class=cl>EndSection</span></span></code></pre></div></div><p>This should allow having the correct keyboard layout for the login screen (SDDM) when booting.</p><p>Now to also set the right keyboard layout for the LUKS decryption prompt, run:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo rpm-ostree initramfs-etc --track<span class=o>=</span>/etc/vconsole.conf</span></span></code></pre></div></div><p>and reboot. Your changes should now be applied!</p><h2 id=change-the-sddm-login-screen-wallpaper>Change the SDDM login screen wallpaper<a hidden class=anchor aria-hidden=true href=#change-the-sddm-login-screen-wallpaper>#</a></h2><p>I dislike the default login screen wallpaper, so I wrote an <a href=/posts/bazzite/custom-sddm-theme/>entire post here</a> on how to create your own SDDM custom theme in order to change the wallpaper.</p><figure class=center><img loading=lazy src=/images/posts/custom-sddm-theme/sddm-settings.png alt="SDDM Settings" width=400px><figcaption><p>Our custom theme is here!</p></figcaption></figure></div><footer class=post-footer><ul class=post-tags></ul></footer><div id=remark42></div><script>var remark_config={host:"https://remark42.codingarret.dev",site_id:"codingarret",components:["embed","last-comments"],max_shown_comments:100,theme:"dark",page_title:"Bazzite - Post-installation tweaks",locale:"en",show_email_subscription:!1,simple_view:!0,no_footer:!0}</script><script>!function(e,t){for(s=0;s<e.length;s++){var s,n=t.createElement("script"),o=".js",i=t.head||t.body;"noModule"in n?(n.type="module",o=".mjs"):n.async=!0,n.defer=!0,n.src=remark_config.host+"/web/"+e[s]+o,i.appendChild(n)}}(remark_config.components||["embed"],document)</script></article></main><footer class=footer><span>&copy; 2024 <a href=https://codingarret.dev/>CodinGarret.dev</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll(".command > .highlight > pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.firstChild.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script defer src=https://umami.codingarret.dev/script.js data-website-id=4bb24348-dc61-47eb-98b1-ca1589ec1078></script></body></html>