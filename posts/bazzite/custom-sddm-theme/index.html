<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Customizing a SDDM theme | CodinGarret.dev</title>
<meta name=keywords content><meta name=description content="A guide to customize an existing SDDM (login screen) theme
"><meta name=author content="LM. Garret"><link rel=canonical href=https://codingarret.dev/posts/bazzite/custom-sddm-theme/><link crossorigin=anonymous href=/assets/css/stylesheet.421771f4c3d9196d9a7a6f2107a3cd18ee62c1995802ca8bbebf3462c233c9cf.css integrity="sha256-Qhdx9MPZGW2aem8hB6PNGO5iwZlYAsqLvr80YsIzyc8=" rel="preload stylesheet" as=style><link rel=icon href=https://codingarret.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://codingarret.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://codingarret.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://codingarret.dev/apple-touch-icon.png><link rel=mask-icon href=https://codingarret.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://codingarret.dev/posts/bazzite/custom-sddm-theme/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Customizing a SDDM theme"><meta property="og:description" content="A guide to customize an existing SDDM (login screen) theme
"><meta property="og:type" content="article"><meta property="og:url" content="https://codingarret.dev/posts/bazzite/custom-sddm-theme/"><meta property="og:image" content="https://codingarret.dev/images/posts/custom-sddm-theme/cover.jpg"><meta property="article:section" content="posts"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://codingarret.dev/images/posts/custom-sddm-theme/cover.jpg"><meta name=twitter:title content="Customizing a SDDM theme"><meta name=twitter:description content="A guide to customize an existing SDDM (login screen) theme
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://codingarret.dev/posts/"},{"@type":"ListItem","position":2,"name":"Customizing a SDDM theme","item":"https://codingarret.dev/posts/bazzite/custom-sddm-theme/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Customizing a SDDM theme","name":"Customizing a SDDM theme","description":"A guide to customize an existing SDDM (login screen) theme\n","keywords":[],"articleBody":"Fedora Silverblue images are great. However, there are sometimes small itches that you need to scratch, and having an immutable distro can get in your way. In this post, I’ll cover a minor itch I wanted to scratch quickly after installing Bazzite: the login screen theme.\nAfter booting, you are prompted with a screen to select the user you want to open a session for. This screen is rendered by SDDM. While it looks nice and modern, it may not be exactly to your taste. In my case, I didn’t like the default wallpaper, but this really comes down to personal preference.\nYeah, not my favorite wallpaper for a gaming rig…\nI explored various ways to customize the SDDM theme and decided to create a new theme based on the default one out of simplicity. This post will guide you through the process of building a customized SDDM theme.\nSo, let’s get started!\nCreating the SDDM theme Prepare a temporary directory to create the theme:\nmkdir -p $HOME/custom-sddm-themethen\ncd $HOME/custom-sddm-themeThen copy over the files from the theme you want to modify. In my case, I want to keep the default breeze fedora theme, while changing the background image. So I’ll first copy the theme folder that I want, giving it a new name\ncp -r /usr/share/sddm/themes/01-breeze-fedora/ 02-breeze-fedora-customI can now change the background image in theme.conf, replacing background value with the path to the new image to use.\nMake sure to rename the theme to something else to avoid conflicts, by editing the Name field in metadata.desktop. e.g. to Breeze Fedora (Custom).\nNote\n2024.10.20: Since a recent update, if you are using the “Breeze” theme or one of its variants, you may encounter the Theme has an unknown property \"fontSize\" error on your SDDM screen. This is due to changes in the API that the Breeze theme has not yet been updated to accommodate.\nYou can follow this tutorial to fork the theme and edit the Main.qml file. Replace every occurrence of:\nfontSize with font.pointSize (except on line 327) iconSource with icon.name. Installing the theme We will explore two options here:\nthe easy one: packaging an archive that we can manually install in the KDE SDDM settings the involved one: building a RPM out of our theme to layer it in our system Option 1: building a theme file + bind mount This is the fairly easy option. We first create a theme archive. Then we need to workaround a SDDM limitation: by default, the SDDM theme installer installs themes to the read-only /usr/share/sddm directory. Attempting to install the theme directly would throw us Could not decompress the archive. The chosen workaround is to mount bind a writable directory in-place of the default theme directory (/usr/share/sddm).\nHere are the steps to follow:\nIn your working directory, package the theme archive with: tar -czvf breeze-custom.tar.gz 02-breeze-fedora-custom Copy the existing theme dir to a new (read-writable) one: sudo cp -r /usr/share/sddm /var Edit /etc/fstab to mount bind your new directory in-place of the default themes one. At the end of the file, add /var/sddm /usr/share/sddm none rbind 0 0 Remount your partitions with sudo mount -a Install the theme file. Head over to the KDE Settings app, search for SDDM. On the SDDM settings screen, click on Install from File..., and select the created archive. ‘Install from File’ in the top right corner\nEnter your sudo password when prompted, then hit Apply, re-enter your password, and you’re done! You can now log out of your session, and you should see your customized SDDM theme in action.\nOption 2: as a RPM file Okay this one might be a bit too involved and unnecessary, I’ll share it nonetheless since some may be interested in layering the theme into their image.\nWhat we are going to do here is build a different theme archive, then create a RPM file out of it using sddm2rpm. Then we’ll install it!\nInstalling SDDM2RPM To edit the default theme, we will be using sddm2rpm. Since we’re in an immutable distro, we will first install its dependencies in a new toolbox container which we will call sddm2rpm:\ntoolbox create sddm2rpm Created container: sddm2rpm Enter with: toolbox enter sddm2rpmThen we enter the toolbox\ntoolbox enter sddm2rpm $And install cargo\ncurl https://sh.rustup.rs -sSf | sh info: downloading installer ...When asked\n1) Proceed with standard installation (default - just press enter) 2) Customize installation 3) Cancel installation you can go with the standard installation and press enter.\nOnce installed, you either need to add the installation directory it prints you to your PATH, or simply restart your shell.\nNow we can install gcc:\nsudo dnf install gcc -yAnd finally, clone the project’s repo in our container:\ngit clone https://github.com/Lunarequest/sddm2rpm.gitNow to build and install sdd2rpm:\ncd sdd2rpmcargo install --path .sdd2rpm should now be available in your path - let’s build the theme!\nPreparing the archive Go to your working directory\ncd $HOME/custom-sddm-themeand prepare the archive. Note that the command is slightly different from the Option 1:\ntar -czvf sddm-breeze-custom.tar.gz -C 02-breeze-fedora-custom . ./ ./default-logo.svg ./metadata.desktop ./preview.png ./Background.qml ./Login.qml ./Messages.sh ./KeyboardButton.qml ./SessionButton.qml ./Main.qml ./faces/ ./faces/.face.icon ./theme.confEverything is now ready to create our theme package. Create the RPM file with\nsddm2rpm sddm-breeze-custom.tar.gz --pkg-version=1.0Note that you must be in the tar archive directory when running this command. Passing $HOME/custom-sddm-theme/sddm-breeze-custom.tar.gz will fail at install time as the generated package will retain the path. This is an unfortunate bug that can be easily worked around by ensuring you are in the same directory as your archive.\nInstalling the package In a new shell (outside the toolbox), install the package with\nsudo rpm-ostree install ./sddm-breeze-custom.rpmAt the end of the installation it should prompt you to reboot, which you have to do to apply the changes.\nAfter rebooting, you can open the Login Screen (SDDM) app to see a list of installed themes. Your theme should appear here!\nOur custom theme is here!\nSince we layered our theme, it should persist across system updates.\n","wordCount":"993","inLanguage":"en","image":"https://codingarret.dev/images/posts/custom-sddm-theme/cover.jpg","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"LM. Garret"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://codingarret.dev/posts/bazzite/custom-sddm-theme/"},"publisher":{"@type":"Organization","name":"CodinGarret.dev","logo":{"@type":"ImageObject","url":"https://codingarret.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://codingarret.dev/ accesskey=h title="CodinGarret.dev (Alt + H)">CodinGarret.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Customizing a SDDM theme</h1><div class=post-description>A guide to customize an existing SDDM (login screen) theme</div><div class=post-meta>LM. Garret</div></header><figure class=entry-cover><img loading=eager src=https://codingarret.dev/images/posts/custom-sddm-theme/cover.jpg alt></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#creating-the-sddm-theme aria-label="Creating the SDDM theme">Creating the SDDM theme</a></li><li><a href=#installing-the-theme aria-label="Installing the theme">Installing the theme</a><ul><li><a href=#option-1-building-a-theme-file--bind-mount aria-label="Option 1: building a theme file + bind mount">Option 1: building a theme file + bind mount</a></li><li><a href=#option-2-as-a-rpm-file aria-label="Option 2: as a RPM file">Option 2: as a RPM file</a><ul><li><a href=#installing-sddm2rpm aria-label="Installing SDDM2RPM">Installing SDDM2RPM</a></li><li><a href=#preparing-the-archive aria-label="Preparing the archive">Preparing the archive</a></li><li><a href=#installing-the-package aria-label="Installing the package">Installing the package</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><p>Fedora Silverblue images are great. However, there are sometimes small itches that you need to scratch, and having an immutable distro can get in your way. In this post, I&rsquo;ll cover a minor itch I wanted to scratch quickly after installing Bazzite: the login screen theme.</p><p>After booting, you are prompted with a screen to select the user you want to open a session for. This screen is rendered by <a href=https://github.com/sddm/sddm/>SDDM</a>. While it looks nice and modern, it may not be exactly to your taste. In my case, I didn&rsquo;t like the default wallpaper, but this really comes down to personal preference.</p><figure class=center><img loading=lazy src=/images/posts/custom-sddm-theme/f40-01-day.png alt="Bazzite default SDDM wallpaper" width=400px><figcaption><p>Yeah, not my favorite wallpaper for a gaming rig&mldr;</p></figcaption></figure><p>I explored various ways to customize the SDDM theme and decided to create a new theme based on the default one out of simplicity. This post will guide you through the process of building a customized SDDM theme.</p><p>So, let&rsquo;s get started!</p><h2 id=creating-the-sddm-theme>Creating the SDDM theme<a hidden class=anchor aria-hidden=true href=#creating-the-sddm-theme>#</a></h2><p>Prepare a temporary directory to create the theme:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mkdir -p <span class=nv>$HOME</span>/custom-sddm-theme</span></span></code></pre></div></div><p>then</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> <span class=nv>$HOME</span>/custom-sddm-theme</span></span></code></pre></div></div><p>Then copy over the files from the theme you want to modify. In my case, I want to keep the default breeze fedora theme, while changing the background image. So I&rsquo;ll first copy the theme folder that I want, giving it a new name</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cp -r /usr/share/sddm/themes/01-breeze-fedora/ 02-breeze-fedora-custom</span></span></code></pre></div></div><p>I can now change the background image in <code>theme.conf</code>, replacing <code>background</code> value with the path to the new image to use.</p><p><strong>Make sure to rename the theme</strong> to something else to avoid conflicts, by editing the <code>Name</code> field in <code>metadata.desktop</code>. e.g. to <code>Breeze Fedora (Custom)</code>.</p><style type=text/css>.notice{--title-color:#fff;--title-background-color:#6be;--content-color:#444;--content-background-color:#e7f2fa}.notice.info{--title-background-color:#fb7;--content-background-color:#fec}.notice.tip{--title-background-color:#5a5;--content-background-color:#efe}.notice.warning{--title-background-color:#c33;--content-background-color:#fee}@media(prefers-color-scheme:dark){.notice{--title-color:#fff;--title-background-color:#069;--content-color:#ddd;--content-background-color:#023}.notice.info{--title-background-color:#a50;--content-background-color:#420}.notice.tip{--title-background-color:#363;--content-background-color:#121}.notice.warning{--title-background-color:#800;--content-background-color:#400}}body.dark .notice{--title-color:#fff;--title-background-color:#069;--content-color:#ddd;--content-background-color:#023}body.dark .notice.info{--title-background-color:#a50;--content-background-color:#420}body.dark .notice.tip{--title-background-color:#363;--content-background-color:#121}body.dark .notice.warning{--title-background-color:#800;--content-background-color:#400}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--content-color);background:var(--content-background-color)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background-color)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><div class="notice note"><p class=notice-title><span class="icon-notice baseline"><svg viewBox="0 128 300 300"><path d="M150 128c82.813.0 150 67.188 150 150 0 82.813-67.188 150-150 150C67.187 428 0 360.812.0 278c0-82.813 67.188-150 150-150zm25 243.555v-37.11c0-3.515-2.734-6.445-6.055-6.445h-37.5c-3.515.0-6.445 2.93-6.445 6.445v37.11c0 3.515 2.93 6.445 6.445 6.445h37.5c3.32.0 6.055-2.93 6.055-6.445zm-.39-67.188 3.515-121.289c0-1.367-.586-2.734-1.953-3.516-1.172-.976-2.93-1.562-4.688-1.562h-42.968c-1.758.0-3.516.586-4.688 1.563-1.367.78-1.953 2.148-1.953 3.515l3.32 121.29c0 2.734 2.93 4.882 6.64 4.882h36.134c3.515.0 6.445-2.148 6.64-4.883z"/></svg>
</span>Note</p><p>2024.10.20: Since a recent update, if you are using the &ldquo;Breeze&rdquo; theme or one of its variants, you may encounter the <code>Theme has an unknown property "fontSize"</code> error on your SDDM screen. This is due to changes in the API that the Breeze theme has not yet been updated to accommodate.</p><p>You can follow this tutorial to fork the theme and edit the <code>Main.qml</code> file. Replace every occurrence of:</p><ul><li><code>fontSize</code> with <code>font.pointSize</code> (except on line 327)</li><li><code>iconSource</code> with <code>icon.name</code>.</li></ul></div><h2 id=installing-the-theme>Installing the theme<a hidden class=anchor aria-hidden=true href=#installing-the-theme>#</a></h2><p>We will explore two options here:</p><ul><li>the easy one: packaging an archive that we can manually install in the KDE SDDM settings</li><li>the involved one: building a RPM out of our theme to layer it in our system</li></ul><h3 id=option-1-building-a-theme-file--bind-mount>Option 1: building a theme file + bind mount<a hidden class=anchor aria-hidden=true href=#option-1-building-a-theme-file--bind-mount>#</a></h3><p>This is the fairly easy option. We first create a theme archive. Then we need to workaround a <a href=https://pagure.io/fedora-kde/SIG/issue/282><code>SDDM</code> limitation</a>: by default, the <code>SDDM</code> theme installer installs themes to the read-only <code>/usr/share/sddm</code> directory. Attempting to install the theme directly would throw us <code>Could not decompress the archive</code>. The <a href=https://discussion.fedoraproject.org/t/another-way-to-customize-sddm-under-kinoite/37773>chosen workaround</a> is to mount bind a writable directory in-place of the default theme directory (<code>/usr/share/sddm</code>).</p><p>Here are the steps to follow:</p><ol><li>In your working directory, package the theme archive with:</li></ol><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar -czvf breeze-custom.tar.gz 02-breeze-fedora-custom</span></span></code></pre></div></div><ol start=2><li>Copy the existing theme dir to a new (read-writable) one:</li></ol><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo cp -r /usr/share/sddm /var</span></span></code></pre></div></div><ol start=3><li>Edit <code>/etc/fstab</code> to mount bind your new directory in-place of the default themes one. At the end of the file, add</li></ol><pre tabindex=0><code>/var/sddm /usr/share/sddm none rbind 0 0 
</code></pre><ol start=4><li>Remount your partitions with</li></ol><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mount -a</span></span></code></pre></div></div><ol start=5><li>Install the theme file. Head over to the KDE Settings app, search for <code>SDDM</code>. On the SDDM settings screen, click on <code>Install from File...</code>, and select the created archive.</li></ol><figure class=center><img loading=lazy src=/images/posts/custom-sddm-theme/sddm-settings-install.png alt="SDDM Settings"><figcaption><p>&lsquo;Install from File&rsquo; in the top right corner</p></figcaption></figure><p>Enter your sudo password when prompted, then hit <code>Apply</code>, re-enter your password, and you&rsquo;re done! You can now log out of your session, and you should see your customized SDDM theme in action.</p><h3 id=option-2-as-a-rpm-file>Option 2: as a RPM file<a hidden class=anchor aria-hidden=true href=#option-2-as-a-rpm-file>#</a></h3><p>Okay this one might be a bit too involved and unnecessary, I&rsquo;ll share it nonetheless since some may be interested in layering the theme into their image.</p><p>What we are going to do here is build a different theme archive, then create a RPM file out of it using <code>sddm2rpm</code>. Then we&rsquo;ll install it!</p><h4 id=installing-sddm2rpm>Installing SDDM2RPM<a hidden class=anchor aria-hidden=true href=#installing-sddm2rpm>#</a></h4><p>To edit the default theme, we will be using sddm2rpm. Since we&rsquo;re in an immutable distro, we will first install its dependencies in a new toolbox container which we will call <code>sddm2rpm</code>:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>toolbox create sddm2rpm
</span></span><span class=line><span class=cl>Created container: sddm2rpm
</span></span><span class=line><span class=cl>Enter with: toolbox enter sddm2rpm</span></span></code></pre></div></div><p>Then we enter the toolbox</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>toolbox enter sddm2rpm
</span></span><span class=line><span class=cl>$</span></span></code></pre></div></div><p>And install cargo</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl https://sh.rustup.rs -sSf <span class=p>|</span> sh
</span></span><span class=line><span class=cl>info: downloading installer
</span></span><span class=line><span class=cl>...</span></span></code></pre></div></div><p>When asked</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>1) Proceed with standard installation (default - just press enter)
</span></span></span><span class=line><span class=cl><span class=go>2) Customize installation
</span></span></span><span class=line><span class=cl><span class=go>3) Cancel installation
</span></span></span></code></pre></div><p>you can go with the standard installation and press enter.</p><p>Once installed, you either need to add the installation directory it prints you to your <code>PATH</code>, or simply restart your shell.</p><p>Now we can install gcc:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo dnf install gcc -y</span></span></code></pre></div></div><p>And finally, clone the project&rsquo;s repo in our container:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/Lunarequest/sddm2rpm.git</span></span></code></pre></div></div><p>Now to build and install sdd2rpm:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> sdd2rpm</span></span></code></pre></div></div><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cargo install --path .</span></span></code></pre></div></div><p><code>sdd2rpm</code> should now be available in your path - let&rsquo;s build the theme!</p><h4 id=preparing-the-archive>Preparing the archive<a hidden class=anchor aria-hidden=true href=#preparing-the-archive>#</a></h4><p>Go to your working directory</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> <span class=nv>$HOME</span>/custom-sddm-theme</span></span></code></pre></div></div><p>and prepare the archive. Note that the command is slightly different from the Option 1:</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar -czvf sddm-breeze-custom.tar.gz -C 02-breeze-fedora-custom .
</span></span><span class=line><span class=cl>./
</span></span><span class=line><span class=cl>./default-logo.svg
</span></span><span class=line><span class=cl>./metadata.desktop
</span></span><span class=line><span class=cl>./preview.png
</span></span><span class=line><span class=cl>./Background.qml
</span></span><span class=line><span class=cl>./Login.qml
</span></span><span class=line><span class=cl>./Messages.sh
</span></span><span class=line><span class=cl>./KeyboardButton.qml
</span></span><span class=line><span class=cl>./SessionButton.qml
</span></span><span class=line><span class=cl>./Main.qml
</span></span><span class=line><span class=cl>./faces/
</span></span><span class=line><span class=cl>./faces/.face.icon
</span></span><span class=line><span class=cl>./theme.conf</span></span></code></pre></div></div><p>Everything is now ready to create our theme package. Create the RPM file with</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sddm2rpm sddm-breeze-custom.tar.gz --pkg-version<span class=o>=</span>1.0</span></span></code></pre></div></div><p>Note that you <strong>must</strong> be in the tar archive directory when running this command. Passing <code>$HOME/custom-sddm-theme/sddm-breeze-custom.tar.gz</code> <strong>will fail</strong> at install time as the generated package will retain the path. This is an unfortunate bug that can be easily worked around by ensuring you are in the same directory as your archive.</p><h4 id=installing-the-package>Installing the package<a hidden class=anchor aria-hidden=true href=#installing-the-package>#</a></h4><p>In a new shell (outside the toolbox), install the package with</p><div class=command><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo rpm-ostree install ./sddm-breeze-custom.rpm</span></span></code></pre></div></div><p>At the end of the installation it should prompt you to reboot, which you have to do to apply the changes.</p><p>After rebooting, you can open the <code>Login Screen (SDDM)</code> app to see a list of installed themes. Your theme should appear here!</p><figure class=center><img loading=lazy src=/images/posts/custom-sddm-theme/sddm-settings.png alt="SDDM Settings"><figcaption><p>Our custom theme is here!</p></figcaption></figure><p>Since we layered our theme, it should persist across system updates.</p></div><footer class=post-footer><ul class=post-tags></ul></footer><div id=remark42></div><script>var remark_config={host:"https://remark42.codingarret.dev",site_id:"codingarret",components:["embed","last-comments"],max_shown_comments:100,theme:"dark",page_title:"Customizing a SDDM theme",locale:"en",show_email_subscription:!1,simple_view:!0,no_footer:!0}</script><script>!function(e,t){for(s=0;s<e.length;s++){var s,n=t.createElement("script"),o=".js",i=t.head||t.body;"noModule"in n?(n.type="module",o=".mjs"):n.async=!0,n.defer=!0,n.src=remark_config.host+"/web/"+e[s]+o,i.appendChild(n)}}(remark_config.components||["embed"],document)</script></article></main><footer class=footer><span>&copy; 2024 <a href=https://codingarret.dev/>CodinGarret.dev</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll(".highlight > pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.firstChild.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?e.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))});for(var newNode,textNode,els=document.getElementsByClassName("highlight"),i=0;i<els.length;i++)els[i].title.length&&(newNode=document.createElement("div"),textNode=document.createTextNode(els[i].title),newNode.appendChild(textNode),newNode.classList.add("highlight-title"),els[i].insertBefore(newNode,els[i].firstChild))</script><script defer src=https://umami.codingarret.dev/script.js data-website-id=4bb24348-dc61-47eb-98b1-ca1589ec1078></script></body></html>